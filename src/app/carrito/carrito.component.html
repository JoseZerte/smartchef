<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>ğŸ›’ Lista de Compras</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  @if (items.length === 0) {
    <div class="empty-state">
      <p>ğŸ›’ Tu lista estÃ¡ vacÃ­a</p>
      <span>AÃ±ade ingredientes desde las recetas</span>
    </div>
  } @else {
    <ion-list>
      @for (item of items; track $index; let i = $index) {
        <ion-item-sliding>
          <ion-item [class.comprado]="item.comprado" (click)="toggleComprado(i)">
            <ion-checkbox
              slot="start"
              [checked]="item.comprado"
              (ionChange)="toggleComprado(i)">
            </ion-checkbox>
            <ion-label>
              <h2 [class.tachado]="item.comprado">{{ item.ingrediente }}</h2>
              <p>{{ item.recetaNombre }}</p>
            </ion-label>
          </ion-item>
          <ion-item-options side="end">
            <ion-item-option color="danger" (click)="eliminar(i)">
              Eliminar
            </ion-item-option>
          </ion-item-options>
        </ion-item-sliding>
      }
    </ion-list>

    @if (hayComprados) {
      <div class="acciones">
        <ion-button expand="block" color="medium" (click)="limpiarComprados()">
          ğŸ—‘ï¸ Limpiar comprados
        </ion-button>
      </div>
    }
  }
</ion-content>
